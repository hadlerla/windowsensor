# ADR-004: Power Management Strategy

## Title
Power Management: Sleep Modes, Battery Monitoring, Event-Driven Wakeup

## Status
Proposed

## Context
The device is battery-powered and must maximize battery life. ESP32-C6 supports deep sleep, wakeup sources, and battery monitoring via ADC. Power management must balance responsiveness and energy savings.

## Alternatives
### Alternative 1: Always-On Operation
- Device remains active at all times
- Pros: Fast response, simple logic
- Cons: High power consumption, short battery life

### Alternative 2: Scheduled Sleep/Wake Cycles
- Device sleeps and wakes on a fixed schedule
- Pros: Predictable, saves power
- Cons: May miss events, less responsive

### Alternative 3: Event-Driven Sleep/Wake (Recommended)
- Device sleeps until sensor event or button press
- Flip-flop logic triggers wakeup
- Battery monitored periodically
- Pros: Maximizes battery life, responsive to events
- Cons: Requires robust event handling, more complex

## Decision
Alternative 3: Event-driven sleep/wake using sensor events and setup button as wakeup sources. Battery monitored via ADC. Device returns to sleep after processing events.

## Consequences
- Maximizes battery life
- Responsive to user and sensor events
- Requires careful event handling and testing

## References
- [ESP-IDF Power Management documentation](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/power_management.html)
- [architecture.md](../../architecture.md)
